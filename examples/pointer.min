; program that modifies a variable via a pointer

.text
opi num ; print the original value of num
opc '\n'

ref num ; create a pointer to num
sta ptr ; store it into ptr

lda 10 ; load a new value
std ptr ; store it into the dereferenced location in ptr

opi num ; print the new value of num
opc '\n'

lda 20
sta num ; change the value of num

ldd ptr ; load the dereferenced value of ptr
opi ; print it
opc '\n'

hlt

.data
num dat 5
ptr dat 0